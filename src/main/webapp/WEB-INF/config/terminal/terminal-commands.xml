<!DOCTYPE aspectran PUBLIC "-//ASPECTRAN//DTD Aspectran Configuration 5.0//EN"
                           "http://aspectran.github.io/dtd/aspectran-5.dtd">

<aspectran>

    <bean id="speaker" class="com.aspectran.demosite.tts.TextToSpeechBean">
        <properties>
            <item name="properties" type="properties">
                <value name="freetts.voices">com.sun.speech.freetts.en.us.cmu_us_kal.KevinVoiceDirectory</value>
            </item>
            <item name="voiceName">kevin16</item>
        </properties>
    </bean>

    <translet name="/speak">
        <request>
            <parameters>
                <item name="text" mandatory="true"/>
            </parameters>
        </request>
        <action bean="speaker" method="speak"/>
        <response>
            <transform contentType="audio/wav;base64"/>
        </response>
    </translet>

    <translet name="/speak ${text}">
        <action bean="speaker" method="speak"/>
        <response>
            <transform contentType="audio/wav;base64"/>
        </response>
    </translet>

    <translet name="/hello">
        <request>
            <parameters>
                <item name="email" mandatory="true">${id}@${domain}</item>
                <item name="password" mandatory="true" security="true"/>
            </parameters>
            <attributes>
                <item name="attr1" mandatory="true">${id}@${domain}</item>
                <item name="attr2" mandatory="true" security="true">${password}</item>
                <item name="attr3" mandatory="true"/>
                <item name="attr4" mandatory="true"/>
            </attributes>
        </request>
        <transform type="transform/text">
            <template style="apon">
                |----------------------------------------------------------
                |The parameters you entered are:
                |   email: ${email}
                |   password: ${password}
                |The attributes you entered are:
                |   attr1: @{attr1}
                |   attr2: @{attr2}
                |   attr3: @{attr3}
                |   attr4: @{attr4}
                |----------------------------------------------------------
            </template>
        </transform>
    </translet>

</aspectran>